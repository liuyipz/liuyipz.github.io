---
date: 2020-08-19 16:30:40
layout: post
title: OSPF与ISIS
subtitle:
description: OSPF与ISIS
image:
optimized_image:
category: NETWORK
tags:
  - OSPF
  - ISIS
author: thiagorossener
---

#### OSPF与ISIS有很多共同之处
都是链路状态路由协议<br>
都使用SPF算法，VSLM 快速会聚。<br>
从使用的目的来说没有什么区别。


#### 从协议实现来说
OSPF其于TCP/ ip协议簇，运行在IP层上，协议号89；<br>
ISIS基于ISO CLNS，设计初是为了实现ISO CLNP路由，在后来加上了对IP路由的支持。


#### 从具体细节来说：
1、区域设计不同，OSPF采用一个骨干AREA0与非骨干区域，非骨干区域必须与AREAO连接。ISIS由L1 L2 L12路由器组成的层次结构，它使用的LSP要少很多，在同一个区域的扩展性要比OSPF好。<br>
2、OSPF有很多种LSA，比较复杂并占用资源，而ISIS的LSP要少很多，所以在CPU占用和处理路由更新方面，ISIS要好一些。<br>
3、ISIS 的定时器允许比OSPF更细的调节，可以提高收敛速度。华为、Cisco网络技术论坛<br>
4、OSPF数据格式不容易增加新的东西，要加，就需要新的LSA，而ISIS可以很容易的通过增加TLV进行扩展，包括对IPV6等的支持。<br>
5、从选择来说，ISIS更适合运营商级的网络，而OSPF非常适合企业级网络。

#### 从稳定和可靠性来看：
骨干网要求路由协议的高稳定性和可靠性，以及快速收敛。<br>
OSPF协议是基于IP层的，所以其只能支持IP网络，且网络上一些基于IP的攻击会影响到OSPF的正常运行。<br>
ISIS是直接运行在链路层上的，其可以承载多种网络类型，且在预防网络攻击方面也有一些天然的优势。

#### 从支持的网络规模来看：
OSPF、ISIS都有网络分层的概念，也都有区域的概念，<br>
OSPF有骨干区域0和分支区域，<br>
ISIS有相应的Level2、Level1的概念。OSPF有普通区域、Stub区域、Total Stub区域、NSSA区域等区域类型，而IS-IS 从功能上看它就是一个OSPF 的简化版本，只实现了骨干区（LEVEL2） 和STUB 区(LEVEL1)，由于其LEVEL1访问其他区域网络是采用到最近的L1/L2 路由器方式，容易产生路由次优化问题, 这样某些组网时就需要借助其他的方法来实现某些功能.<br>
如：在构建MPLS VPN的过程中就需要采用路由渗透，造成实现和维护复杂。由于ISIS计算路由的时候采用PRC计算，ip前缀作为最短生成树的叶子节点，而OSPF是围绕链路建立的，在相同大小的区域，ISIS比OSPF更加稳定且消耗资源少，相比OSPF支持的网络规模更大。<br>
从灵活性来看：OSPF协议比较灵活，协议是基于接口的，支持的网络类型全面，且技术成熟，在城域网中，使用IGP用来传播用户路由，组网设备杂，关注的是协议的灵活性兼容性，以及能否满足大量用户复杂路由控制的需求，这些是OSPF 的强项，建议使用OSPF。对于新维护方面OSPF协议在城域网中得到了广泛的应用，尤其是早期的网络维护人员对OSPF协议相当熟悉；<br>
从扩展性来看：ISIS结构严谨，运行稳定，IS-IS路由器只能属于一个区域，并且不提供对NBMA、P2MP接口的直接支持。ISIS可扩展性更好：ISIS能支持多种网络层协议（ OSPF仅支持IP协议）；ISIS区域能平滑地平移、分割、合并，流量不中断；ISIS是基于TLV的，协议本身扩展容易。最近几年，在各大运营商的骨干网络中大量使用了ISIS协议，在选取协议时，需要考虑原有网络中运行的是何种协议，如目前某些运营商在骨干层次采用ISIS，而在城域网内部采用OSPF协议，为了保护网络的延续性，在选取协议类型时需要予以考虑。
